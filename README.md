# 调试智能车的无线模块

## esp8266的一些基本知识

### 几种工作模式

模式  | 功能
----|-----------
模式1 | 网络连接
模式2 | 直连
模式3 | 直连和网络连接都可以

### 初始化的顺序

### 引脚

- send是黄线，receive是绿线
- PA9是T,PA10是R





## 问题

- USB转TTL
USB转串口，串口有两种，电脑用的一般是RS232串口，电子设备一般用TTL串口。两者只是高低电平的电压不同。TTL表示电压变化范围为0-5v。

问题                              | 解决办法
--------------------------------|---------------------------
调试esp8266要用到单片机的那些资源 | 要用到串口资源
怎么用AT指令集初始化esp8266       | 下面有列表说明
怎么通过esp8266发送字符串         | 用AT指令集
怎么看USART1对应的IO口            | 到uart_init函数中去找，里面有映射复用的配置

AT命令集
命令                                 | 功能                     | 返回值
-------------------------------------|------------------------|---------------------------
AT                                   | 测试是否连接成功         | OK
AT+RST                               | 复位                     | OK
AT+CWMODE=2                          | 设置为模式2              | OK
AT+CWJAP="ssid","password"           | 连接路由器               | WIFI CONNECTED WIFI GOT IP
AT+CIPSTART="TCP","10.0.29.117",1234 | 连接到TP服务器           | CONNECT OK
AT+CIPSEND=4                         | 发送数据的长度（包括\r\n） | >
AB                                   | 发送的数据               | SEND OK
AT+CIPMUX=1                          | 允许多连接               | 未知
AT+CIPSERVER=1                       | 建立服务器               | 未知


## 问题的解决流程

1. 初始化esp8266，并与电脑组网（怎么判断成功=可以发送数据）
2. 单片机串口直接与电脑通信
3. 单片机通过esp向电脑发送数据


## 注意事项

- 串口要与芯片共地

